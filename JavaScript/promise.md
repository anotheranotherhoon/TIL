# Promise 

## Promise의 생성
* Promise 생성자 함수를 new 연산자와 함께 호출하면 프로미스(Promise 객체)를 생성한다. ES6에서 도입된 Promise는 호스트 객체가 아닌 ESCMAScript 사양에 정의된 표준 빌트인 객체다.

* Promise 생성자 함수는 비동기 처리를 수행할 콜백 함수를 인수로 전달 받는데 이 콜백 함수는 resolve와 reject 함수를 인수로 전달받는다.

* Promise 생성자 함수가 인수로 전달받은 콜백 함수 내부에서 비동기 처리를 수행한다.

* 이때 비동기 처리가 성공하면 콜백 함수의 인수로 전달받은 resolve 함수를 호출하고, 비동기 처리가 실패하면 reject 함수를 호출한다. 

```
const promise = new Promise(resolve, reject) => {
    if(/*비동기 처리 성공*/){
        resolve('result');
    }
    else{/*비동기 처리 실패*/
        reject('failure')
    }
}
```

|프로미스의 상태 정보|의미|상태 변경 조건|
|------|---|---|
|pending|비동기 처리가 아직 수행되지 않은 상태|프로미스가 생성된 직후 기본 상태|
|fulfilled|비동기 처리가 수행된 상태(성공)|resolve 함수 호출|
|rejected|비동기 처리가 수행된 상태(실패)|reject 함수 호출|

* 생성된 직후의 프로미스는 기본적으로 pending 상태다. 이후 비동기 처리가 수행되면 비동기 처리 결과에 따라 다음과 같이 프로미스의 상태가 변경된다.
    * 비동기 처리 성공 : resolve 함수를 호출해 프로미스를 fulfilled 상태로 변경한다.
    * 비동기 처리 실패 : reject 함수를 호출해 프로미스를 rejected 상태로 변경한다.

* 프로미스의 상태는 resolve 또는 reject 함수를 호출하는 것으로 결정된다.
* fulfilled 또는 rejected 상태를 settled 상태라고 한다.
* settled 상태는 fulfilled 또는 rejected 상태와 상관없이 pending이 아닌 상태로 비동기 처리가 수행된 상태를 말한다.
* 프로미스는 pending 상태에서 fulfilled 또는 rejected 상태로 변화할 수 있다. 하지만 한번 settled 상태가 되면 다른 상태로 변할 수 없다.
* 프로미스는 비동기 처리 상태와 더불어 비동기 처리 결과도 상태로 갖는다. 
* 비동기 처리가 성공하면 프로미스는 pending 상태에서 fulfilled 상태로 변화한다. 그리고 비동기 처리 결과를 값으로 갖는다.
* 비동기 처리가 실패하면 프로미스는 pending 상태에서 rejected 상태로 변화한다. 그리고 비동기 처리 결과인 Error 객체를 값으로 갖는다. 
* 즉, 프로미스는 비동기 처리 상태와 처리 결과를 관리하는 객체다.

## Promise의 메서드
* 프로미스의 비동기 처리 상태가 변화하면 이에 따른 후속 처리를 해야한다.
* fulfilled 또는 rejected 상태가 되면 프로미스 처리 결과(에러)를 처리해야한다.
* 프로미스의 비동기 처리 상태가 변화하면 후속 처리 메서드에 인수로 전달한 콜백 함수가 선택적으로 호출된다.
* 이때 후속 처리 메서드의 콜백 함수에 프로미스의 처리 결과가 인수로 전달된다.
* 모든 후속 처리 메서드는 프로미스를 반환하며, 비동기적으로 동작한다.

## Promise.prototype.then
* then 메서드는 두 개의 콜백 함수를 인수로 전달 받는다.
    * 첫 번째 콜백 함수는 프로미스가 fulfilled 상태(resolve 함수가 호출된 상태)가 되면 호출된다. 이때 콜백 함수는 프로미스의 비동기 처리 결과를 인수로 전달받는다.
    * 두 번째 콜백 함수는 프로미스가 rejected 상태(reject 함수가 호출된 상태)가 되면 호출된다. 이때 콜백 함수는 프로미스의 에러를 인수로 전달받는다.

* 즉, 첫 번째 콜백함수는 비동기 처리가 성공했을 때 호출되는 성공 처리 콜백함수이다.
* 두 번째 콜백함수는 비동기 처리가 실패했을 때 호출되는 실패 처리 콜백 함수다.
---
* then 메서드는 언제나 프로미스를 반환한다. 만약 then 메서드의 콜백 함수가 프로미스를 반환하면 그 프로미스를 그대로 반환하고, 콜백 함수가 프로미스가 아닌 값을 반환하면 그 값을 암묵적으로 resolve 또는 reject하여 프로미스를 생성해 반환한다.

## Promise.prototype.catch
* catch 메서드는 한 개의 콜백 함수를 인수로 전달받는다. 
* catch 메서드의 콜백 함수는 프로미스가 rejected 상태인 경우만 호출된다.

## 프로미스의 정적 ㄹ메서드

* Promise는 주로 생성자 함수로 사용되지만 